<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Minimal Calendar</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <div class="calendar-container">
      <header>
        <div class="day" id="header-day">1</div>
        <div class="month" id="header-month">january</div>
      </header>

      <table class="calendar">
        <thead>
          <tr>
            <td>MON</td>
            <td>TUE</td>
            <td>WED</td>
            <td>THU</td>
            <td>FRI</td>
            <td>SAT</td>
            <td>SUN</td>
          </tr>
        </thead>
        <tbody id="calendar-body">
          <!-- filled by JavaScript -->
        </tbody>
      </table>

      <div class="ring-left"></div>
      <div class="ring-right"></div>
    </div>
  </div>

  <script>
    (function () {
      const monthNames = [
        "january", "february", "march", "april", "may", "june",
        "july", "august", "september", "october", "november", "december"
      ];

      const today = new Date();
      const currentYear = today.getFullYear();
      const currentMonth = today.getMonth(); // 0–11
      const todayDate = today.getDate();

      const headerDayEl = document.getElementById("header-day");
      const headerMonthEl = document.getElementById("header-month");
      const calendarBody = document.getElementById("calendar-body");

      headerDayEl.textContent = todayDate;
      headerMonthEl.textContent = monthNames[currentMonth];

      function renderCalendar(year, month) {
        calendarBody.innerHTML = "";

        const firstOfMonth = new Date(year, month, 1);
        const lastOfMonth = new Date(year, month + 1, 0);
        const daysInMonth = lastOfMonth.getDate();

        const lastOfPrevMonth = new Date(year, month, 0);
        const daysInPrevMonth = lastOfPrevMonth.getDate();

        // JS getDay(): 0 (Sun)–6 (Sat)
        // Convert to Monday=0…Sunday=6
        const rawFirstWeekday = firstOfMonth.getDay();
        const startIndex = (rawFirstWeekday + 6) % 7;

        const totalCells = startIndex + daysInMonth;
        const rows = Math.ceil(totalCells / 7);

        let currentDay = 1;

        for (let row = 0; row < rows; row++) {
          const tr = document.createElement("tr");

          for (let col = 0; col < 7; col++) {
            const cellIndex = row * 7 + col;
            const td = document.createElement("td");

            if (cellIndex < startIndex) {
              // previous month days
              const prevDay = daysInPrevMonth - (startIndex - 1 - cellIndex);
              td.textContent = prevDay;
              td.classList.add("prev-month");
            } else if (currentDay > daysInMonth) {
              // next month days
              const nextDay = currentDay - daysInMonth;
              td.textContent = nextDay;
              td.classList.add("next-month");
              currentDay++;
            } else {
              // current month
              td.textContent = currentDay;

              if (
                year === today.getFullYear() &&
                month === today.getMonth() &&
                currentDay === todayDate
              ) {
                td.classList.add("current-day");
              }

              currentDay++;
            }

            tr.appendChild(td);
          }

          calendarBody.appendChild(tr);
        }
      }

      renderCalendar(currentYear, currentMonth);
    })();
  </script>
</body>

</html>
